(window.webpackJsonp=window.webpackJsonp||[]).push([[78],{529:function(t,s,a){"use strict";a.r(s);var r=a(56),e=Object(r.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"二-存储引擎"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二-存储引擎"}},[t._v("#")]),t._v(" 二：存储引擎")]),t._v(" "),a("h2",{attrs:{id:"_1、查看mysql提供的所有的引擎"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、查看mysql提供的所有的引擎"}},[t._v("#")]),t._v(" 1、查看MySQL提供的所有的引擎")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("mysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" show engines"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n+--------------------+---------+----------------------------------------------------------------+--------------+------+------------+\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Engine             "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Support "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Comment                                                        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Transactions "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" XA   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Savepoints "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n+--------------------+---------+----------------------------------------------------------------+--------------+------+------------+\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" MEMORY             "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" YES     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Hash based, stored "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" memory, useful "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" temporary tables      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" NO           "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" NO   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" NO         "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" MRG_MYISAM         "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" YES     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Collection of identical MyISAM tables                          "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" NO           "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" NO   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" NO         "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" CSV                "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" YES     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" CSV storage engine                                             "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" NO           "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" NO   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" NO         "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" FEDERATED          "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" NO      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Federated MySQL storage engine                                 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" NULL         "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" NULL "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" NULL       "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" PERFORMANCE_SCHEMA "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" YES     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Performance Schema                                             "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" NO           "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" NO   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" NO         "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" MyISAM             "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" YES     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" MyISAM storage engine                                          "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" NO           "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" NO   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" NO         "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" InnoDB             "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" DEFAULT "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Supports transactions, row-level locking, and foreign keys     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" YES          "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" YES  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" YES        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" BLACKHOLE          "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" YES     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" /dev/null storage engine "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("anything you "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("write")]),t._v(" to it disappears"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" NO           "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" NO   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" NO         "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" ARCHIVE            "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" YES     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Archive storage engine                                         "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" NO           "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" NO   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" NO         "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n+--------------------+---------+-\n")])])]),a("p",[t._v("从上图我们可以查看出 MySQL 当前默认的存储引擎是 InnoDB，并且在 5.7 版本所有的存储引擎中只有 InnoDB 是事务性存储引擎，也就是说只有 InnoDB 支持事务。")]),t._v(" "),a("h2",{attrs:{id:"_2、查看mysql当前默认的存储引擎"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、查看mysql当前默认的存储引擎"}},[t._v("#")]),t._v(" 2、查看MySQL当前默认的存储引擎")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("mysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" show variables like "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'%storage_engine%'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n+---------------------------------+-----------+\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Variable_name                   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Value     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n+---------------------------------+-----------+\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" default_storage_engine          "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" InnoDB    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" default_tmp_storage_engine      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" InnoDB    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" disabled_storage_engines        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("           "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" internal_tmp_mem_storage_engine "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" TempTable "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n+---------------------------------+-----------+\n")])])]),a("h2",{attrs:{id:"_3、查看表的存储引擎"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、查看表的存储引擎"}},[t._v("#")]),t._v(" 3、查看表的存储引擎")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("mysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" show table status like "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'userinfo'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n+----------+--------+---------+------------+------+----------------+-------------+-----------------+--------------+-----------+----------------+---------------------+-------------+------------+-----------------+----------+----------------+---------+\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Name     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Engine "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Version "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Row_format "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Rows "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Avg_row_length "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Data_length "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Max_data_length "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Index_length "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Data_free "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Auto_increment "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Create_time         "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Update_time "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Check_time "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Collation       "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Checksum "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Create_options "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Comment "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n+----------+--------+---------+------------+------+----------------+-------------+-----------------+--------------+-----------+----------------+---------------------+-------------+------------+-----------------+----------+----------------+---------+\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" userinfo "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" InnoDB "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Dynamic    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("              "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("16384")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("               "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("            "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("         "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("              "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2022")]),t._v("-01-27 "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),t._v(":41:59 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" NULL        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" NULL       "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" utf8_general_ci "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("     NULL "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("                "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("         "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n+----------+--------+---------+------------+------+----------------+-------------+-----------------+--------------+-----------+----------------+---------------------+-------------+------------+-----------------+----------+----------------+---------+\n")])])]),a("h2",{attrs:{id:"_4、myisam-和-innodb-的区别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、myisam-和-innodb-的区别"}},[t._v("#")]),t._v(" 4、MyISAM 和 InnoDB 的区别")]),t._v(" "),a("p",[t._v("MySQL5.5之前，MyISAM引擎是MySQL的默认存储引擎；5.5版本后，MySQL引入了InnoDB,之后的版本都使用这个引擎。")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("存储引擎")]),t._v(" "),a("th",[t._v("是否支持行级锁")]),t._v(" "),a("th",[t._v("是否支持事务")]),t._v(" "),a("th",[t._v("是否支持外键")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("InnoDB")]),t._v(" "),a("td",[t._v("支持表级锁和行级锁。默认是行级锁")]),t._v(" "),a("td",[t._v("提供事务支持，具有提交和回滚事务的能力")]),t._v(" "),a("td",[t._v("支持外键")])]),t._v(" "),a("tr",[a("td",[t._v("MyISAM")]),t._v(" "),a("td",[t._v("只支持表级锁")]),t._v(" "),a("td",[t._v("不提供事务支持")]),t._v(" "),a("td",[t._v("不支持外键")])])])]),t._v(" "),a("p",[t._v("一般我们也是不建议在数据库层面使用外键的，应用层面可以解决。不过，这样会对数据的一致性造成威胁。具体要不要使用外键还是要根据你的项目来决定。")]),t._v(" "),a("h2",{attrs:{id:"_5、表级锁和行级锁"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5、表级锁和行级锁"}},[t._v("#")]),t._v(" 5、表级锁和行级锁")]),t._v(" "),a("p",[a("strong",[t._v("表级锁：")]),t._v(" MySQL中锁定"),a("strong",[t._v("粒度最大")]),t._v("的一种锁，对当前整个表进行加锁，实现简单，消耗资源较少，加锁快，不会出现死锁。但是触发锁冲突的概率最高，并发度最低")]),t._v(" "),a("p",[a("strong",[t._v("行级锁：")]),t._v(" MySQL中锁定"),a("strong",[t._v("粒度最小")]),t._v("的一种锁，默认只针对当前操作的行进行加锁。行级锁大大减少数据库操作的冲突。并发度高，但是加锁的开销较大，加锁慢，会出现死锁")])])}),[],!1,null,null,null);s.default=e.exports}}]);